
<script src="Libs/underscore.js"></script>
<script type="text/javascript">
	window.onload = function() {
	var dps =[]; // dataPoints
	dps[0] = [];
	dps[1] = [];
	dps[2] = [];
	var xValue = parent.GraphInfo[parent.tabIndex].X;
	console.log(xValue);
	console.log(parent.GraphInfo);
	if( xValue==-1){
		for (var i=0; i<parent.totalValueRow; i++) {
			if(parent.GraphInfo[parent.tabIndex].Y1!= -1)
			{
				dps[0].push({
					x : parent.recordId[i],
					y : parent.matrix[parent.GraphInfo[parent.tabIndex].Y1][i]
				})
			}
			if(parent.GraphInfo[parent.tabIndex].Y2!= -1)
			{
				dps[1].push({
					x : parent.recordId[i],
					y : parent.matrix[parent.GraphInfo[parent.tabIndex].Y2][i]})
			}
			if(parent.GraphInfo[parent.tabIndex].Y3!= -1)
			{
				dps[2].push({
					x : parent.recordId[i],
					y : parent.matrix[parent.GraphInfo[parent.tabIndex].Y3][i]})
			}
		}
	}
	else
	{
		for (var i=0; i<parent.totalValueRow; i++) {
			if(parent.GraphInfo[parent.tabIndex].Y1!= -1)
			{
				dps[0].push({
					x : parent.matrix[xValue][i],
					y : parent.matrix[parent.GraphInfo[parent.tabIndex].Y1][i]
				})
			}
			if(parent.GraphInfo[parent.tabIndex].Y2!= -1)
			{
				dps[1].push({
					x : parent.matrix[xValue][i],
					y : parent.matrix[parent.GraphInfo[parent.tabIndex].Y2][i]})
			}
			if(parent.GraphInfo[parent.tabIndex].Y3!= -1)
			{
				dps[2].push({
					x : parent.matrix[xValue][i],
					y : parent.matrix[parent.GraphInfo[parent.tabIndex].Y3][i]})
			}
		}
	}
	dps[0]= _.sortBy(dps[0], 'x');
	dps[1]= _.sortBy(dps[1], 'x');
	dps[2]= _.sortBy(dps[2], 'x');
	var nameOfX;
	var nameOfY =[];
	var valueOfshowInLegend =[];
	if(xValue == -1)
		nameOfX = "Time"
	else
		nameOfX = parent.tableLable[xValue]
	if(parent.GraphInfo[parent.tabIndex].Y1!=-1)
	{
		nameOfY.push(parent.tableLable[parent.GraphInfo[parent.tabIndex].Y1])
		valueOfshowInLegend.push(true)
	}
	else
	{
		nameOfY.push("DoNotSet")
		valueOfshowInLegend.push(false)
	}
	if(parent.GraphInfo[parent.tabIndex].Y2!=-1)
	{
		nameOfY.push(parent.tableLable[parent.GraphInfo[parent.tabIndex].Y2])
		valueOfshowInLegend.push(true)
	}
	else
	{
		nameOfY.push("DoNotSet")
		valueOfshowInLegend.push(false)
	}
    if(parent.GraphInfo[parent.tabIndex].Y3!=-1)
	{
		nameOfY.push(parent.tableLable[parent.GraphInfo[parent.tabIndex].Y3])
		valueOfshowInLegend.push(true)
	}
	else
	{
		nameOfY.push("DoNotSet")
		valueOfshowInLegend.push(false)
	}

	var chart = new CanvasJS.Chart("chartContainer2", {
		title : {
			text : parent.nameOfGraph.value
		},
		exportEnabled: true,
		zoomEnabled: true, 
		includeZero: false,
		axisY:{
	        // interlacedColor: "#FFBFD5",
	         title: nameOfX,
	        gridColor: "#f5f5f0",
	        lineColor: "#0f0f0a",
	        tickColor: "#0f0f0a",
	        labelFontColor:"#0f0f0a",
	    },
	    axisX:{
	        // interlacedColor: "#FFBFD5",
	        lineColor: "#0f0f0a",
	        tickColor: "#0f0f0a",
	        labelFontColor:"#0f0f0a",
	    },
	    dataSeries:{
		   cursor: "pointer"  
		 },
	    data : [ {
	    	name :  nameOfY[0],
	    	showInLegend: valueOfshowInLegend[0],
	    	type : "line",
	    	color: parent.colorForY1.value,
	    	dataPoints : dps[0]
	    }, {
	    	name :   nameOfY[1],
	    	showInLegend: valueOfshowInLegend[1],
	    	type : "line",
	    	color: parent.colorForY2.value,
	    	dataPoints : dps[1]
	    },
	    {
	    	name :   nameOfY[2],
	    	showInLegend: valueOfshowInLegend[2],
	    	type : "line",
	    	color: parent.colorForY3.value,
	    	dataPoints : dps[2]
	    }, ]
	});
	console.log( parent.colorForY1.value);
	console.log( parent.colorForY2.value);
	console.log( parent.colorForY3.value);
	chart.render();
}
</script>
<script type="text/javascript" src="Libs/canvasjs-1.8.0/canvasjs.min.js"></script>
<div id="chartContainer2" style="height: 400px; width: 100%;"></div>